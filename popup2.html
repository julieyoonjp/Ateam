<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>p5.js Sketch Popup</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }

    .scrollable-container {
      height: 200px;
      overflow-y: scroll;
      scroll-behavior: smooth;
      scroll-snap-type: y mandatory;
      scrollbar-width: thin;
    }

    .oath-text {
      font-size: 13px;
      padding: 20px;
      scroll-snap-align: start;
    }

    input[type="checkbox"] {
      margin-top: 10px;
    }

    #closeBtn {
      display: none;
      margin-top: 10px;
      font-size: 12px;
    }

    /* 추가된 스타일 */
    #closeBtnLabel {
      display: none;
      font-size: 12px;
      margin-top: 10px;
      cursor: pointer;
      color: blue;
    }
  </style>
</head>

<body>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
  <script>
    window.resizeTo(300, 300);

    let isScrollAtBottom = false;
    let isChecked = false;

    document.addEventListener('DOMContentLoaded', function () {
      let container = document.querySelector('.scrollable-container');
      let content = document.querySelector('#oath-text');
      let checkbox = document.querySelector('#scrollCheckbox');
      let closeBtn = document.querySelector('#closeBtn');
      let closeBtnLabel = document.querySelector('#closeBtnLabel');

      container.addEventListener('scroll', () => {
        checkAndMarkCheckbox();
      });

      checkbox.addEventListener('change', () => {
        isChecked = checkbox.checked;
        toggleCloseButton();
      });

      closeBtnLabel.addEventListener('click', () => {
        if (isChecked && isScrollAtBottom) {
          window.close();
        }
      });

      function checkAndMarkCheckbox() {
        if (container.scrollTop + container.clientHeight >= content.offsetHeight - 1) {
          isScrollAtBottom = true;
          // 스크롤이 하단에 도착하면 체크박스 활성화
          checkbox.removeAttribute('disabled');
        } else {
          isScrollAtBottom = false;
          checkbox.setAttribute('disabled', 'disabled');
        }
      }

      function toggleCloseButton() {
        if (isChecked && isScrollAtBottom) {
          closeBtn.style.display = 'inline';
          closeBtnLabel.style.display = 'inline';
        } else {
          closeBtn.style.display = 'none';
          closeBtnLabel.style.display = 'none';
        }
      }

      function sendScrollPosition() {
        window.parent.postMessage(container.scrollTop, '*');
      }

      window.addEventListener('message', function (event) {
        container.scrollTop = event.data;
      });
    });
  </script>

  <div class="scrollable-container">
    <div class="oath-text" id="oath-text">
      <h2>UI∙UX 활용 동의서<h2>

        <br><br>
        
        정보문화기술입문 A팀(이하 ‘A팀’이라고 합니다.)은 해당 팀이 제공하고자 하는 과제전에서의 UI∙UX에 대하여 일부 허가를 받고자 해당 동의서를 제공하고자 합니다. <br>사실 내용은 없고, 형식상 적어 놓은 것이기 때문에 이걸 읽었다면 정말로다가 칭찬을 드리겠습니다. <br> 땡큐베리감사. <br>
         <br>
        다음의 내용을 자세히 읽어 보시고 모든 내용을 이해하신 후에 동의 여부를 결정해주시길 바랍니다. <br>
         재차 언급하지만 사실 동의를 안 해도 상관은 없지만, 우리 절차상 모두 다 동의해야 할 것입니다. <br>
        
        <br>
        
        <h2>제 1챕터(A팀의 역사에 관하여)<h2>
        때는 2023년 2학기, 모두가 지나친 과제와 일정으로 지쳐가던 와중, 서울대학교 연합전공 정보문화학의 전공 필수 과목인 정보문화기술입문 수업에서 기말 프로젝트가 발표가 된 바가 있습니다. <br>
         이에 팀을 짜고자 모두가 엄청난 아이디어를 갖고 왔고, 팀장의 아이디어가 적합하다고 판단, 그렇게 하여 전설의 A팀이 모이게 된 것입니다. <br>
        
        <br>
        
        <h2>제 2챕터(A팀의 우수함에 대하여)<h2>
        A팀은 기말 과제를 하기 위해 매우 바쁜 와중에도 꾸준히 소통하고 대면 회의를 계속 해서 진행했습니다. <br>
        비록 코딩 전공자는 없을지라도, 서로 부족한 점을 보완하고 이겨 내기 위해서 끊임 없이 소통하며 서로를 독려했습니다. <br>
        아이디어를 짜는 것이 어렵긴 했지만 그래도 열심히 모여서 아이디에이션도 진행했답니다. <br>
        <h1>우리 팀원 최고~<h1>
        <br>
        
        <h2>제 3챕터(갑자기 불어 닥친 피드백)<h2>
        수업이니 만큼 교수님과 피어, 조교님 피드백이 있었습니다. <br>
         아차! <br>
        남자 아이 사진이 충분히 킹받는다고 생각했는데, 보살같은 분들에게는 먹히지 않는 다는 것을 깨닫습니다. <br>
        어떻게 하지? 위기에 봉착합니다. <br>
        하지만 우리가 누구입니까, <br>
        <h2>A팀입니다.<h2> <br>
         사용자에게 고귀한 가치, ‘킹(KING, 왕이라는 뜻)’을 선사하기 위해서, 끊임 없이 고민합니다. <br>
        
        <h2>왕<h2>
        <br>
         왕이란 무엇일까요? 우리는 무엇보다도 크고, 위대하고, 우수한 것에 접두사처럼 킹을 붙이곤 합니다. <br>
        해당 접두사가 가장 널리 쓰인 시기는 아무래도 21세기이지요. <br>
        2021년을 기점으로, 유명 만화가의 뛰어난 어휘력을 필두로 모두가 ‘킹’을 선사하는 시대가 도래한 것입니다. <br>
        이러한 가치를 어떻게 사용자에게 선사할 수 있을까요? <br>
        그러한 아이디어를 갖고 태어난 겁니다. A팀은. <br>
        
        
        <h2>제 4챕터(LIFE GOES ON)<h2>
        피드백을 이겨내고 그들은 해냅니다. 코드를 계속 짭니다. 계속되는 회의에도 지지 않습니다. <br>
        이렇게 구현된 저희의 서비스, UI UX 사용해주세요. <br>
        저희는 선물도 드린답니다. <br>
        정말 착하지요? <br>
        무섭게 추운 이 날씨에, 참으로 따스한 팀이 아닐 수 없습니다. <br>
        여러분 힘내세요. <br>
        그런 의미로 킹을 드리는 것이니까요. <br>
        화이팅입니다. <br>
        
    </div>
  </div>
  <input type="checkbox" id="scrollCheckbox" disabled>
  <label for="scrollCheckbox">저는 내용을 읽었고, 이해합니다</label>

<!-- 수정된 버튼과 라벨 -->
<button id="closeBtn">창닫기</button>
<label id="closeBtnLabel" for="scrollCheckbox">🪟❌</label>
</body>

</html>
 